{% extends 'base.html' %}

{% block content %}
<form method="post" action="/update_budget" class="page-title-container">
    <h1 class="page-title">MY BUDGET</h1>
    <h1>Budget:</h1>
    <div class="budget-input-box-container" >
        $<input type="number" name="new_budget" value="{{ user.budget }}"  class="budget-input-box" />
        <input class="budget-update-button" type="submit" value="Update">
    </div>
    <h2>Remainder: <span style="color:{{ budget_color }};">${{ remainder }}</span></h2>
</form>

<div class="all-categories-container">
    <div class="mybudget-container">

        {% for category in categories %}
        <form class="mybudget-category" style="background-color: {{ category.color }};" method="post">
            <input type="text" class="category-input-box" value="{{ category.title }}" placeholder="{{ category.title }}" name="title">
            $<input class="mybudget-amount" type="number" value="{{ category.limit }}" name="limit">
            <input class="category-color" type="color" value="{{ category.color }}" name="color">
            <input class="mybudget-submit-button" type="submit" id="mybudget-submit" value="Update">
            <input style="display:none;" value="{{ category.category_id }}" name="id">
            <a class="category-delete" href="/delete_category/{{ category.category_id }}">Delete</a>
        </form><br>
        {% endfor %}

        <form action="/new_category" class="mybudget-category-new" style="background-color: rgb(196, 190, 190);", method="POST">
            <input type="text" class="category-input-box-new" placeholder="New Category" name="new_title">
            $<input class="mybudget-amount-new" type="number" placeholder="Limit" name="new_limit">
            <input class="category-color" type="color" value="" name="new_color" name="new_color">
            <input class="mybudget-submit-new" type="submit" id="mybudget-submit" value="+">

        </form><br>

    </div>
</div>

{% endblock %}